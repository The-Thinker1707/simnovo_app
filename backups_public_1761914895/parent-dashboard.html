<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Parent Dashboard - EduConnect</title>
<link rel="stylesheet" href="/styles.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head><body>
  <div class="app">
    <header class="header"><div class="brand"><div class="logo">EC</div><div><div class="h1">Parent Dashboard</div><div class="h2">EduConnect</div></div></div><nav><a class="back-button" href="/index.html">Home</a></nav></header>

    <main class="main">
      <section class="card" style="display:flex;gap:16px;flex-wrap:wrap">
        <div style="flex:1 1 520px">
          <h2>Profile</h2>
          <div style="display:flex;gap:12px;align-items:center">
            <img id="parent-avatar" src="/uploads/default-avatar.png" alt="avatar" style="width:96px;height:96px;border-radius:12px;object-fit:cover;border:1px solid rgba(0,0,0,0.06)">
            <form id="parent-profile-form" style="flex:1">
              <input type="hidden" name="role" value="parent">
              <div><label>Name</label><br><input name="name" required placeholder="Full name" style="width:100%;padding:8px;border-radius:8px"></div>
              <div style="margin-top:8px"><label>Email</label><br><input name="email" type="email" required placeholder="email@example.com" style="width:100%;padding:8px;border-radius:8px"></div>
              <div style="margin-top:8px"><label>Upload avatar</label><br><input name="avatar" type="file" accept="image/*"></div>
              <div style="margin-top:8px"><button class="back-button" type="submit">Save Profile</button></div>
            </form>
          </div>
        </div>

        <aside style="width:360px">
          <h3 style="margin-top:0">Child Overview</h3>
          <canvas id="parentChart" style="width:100%;height:180px"></canvas>
        </aside>
      </section>

      <section class="card" style="margin-top:12px">
        <h3>Parent Tools</h3>
        <div class="subcards">
          <div class="subcard"><h4>Announcements</h4><p>School news & updates.</p></div>
          <div class="subcard"><h4>PTA</h4><p>PTA info & meetings.</p></div>
          <div class="subcard"><h4>Fees</h4><p>Fee statements & payments.</p></div>
          <div class="subcard"><h4>Support</h4><p>Contact & FAQs.</p></div>
        </div>
      </section>

      <a class="back-button" href="javascript:history.back()">Back</a>
      <div class="footer">Â© EduConnect 2025</div>
    </main>
  </div>

<script src="/profile.js" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function(){
  initProfileForm('#parent-profile-form', '#parent-avatar');

  const ctx = document.getElementById('parentChart').getContext('2d');
  new Chart(ctx, {
    type: 'doughnut',
    data: { labels:['Attendance','Assignments','Behavior'], datasets:[{ data:[92,78,85], backgroundColor:['#0b76d1','#1fb693','#ffd166'] }] },
    options: { responsive:true, plugins:{ legend:{ position:'bottom' } } }
  });
});
</script>
</body></html>
