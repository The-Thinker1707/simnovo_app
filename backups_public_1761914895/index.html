<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EduConnect — Home</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="app">
    <header class="header">
      <div class="brand">
        <div class="logo">EC</div>
        <div>
          <div class="h1">EduConnect</div>
          <div class="h2">School portal • Teachers • Parents • Students</div>
        </div>
      </div>
      <nav>
        <a class="back-button" href="/portal.html">Portal</a>
        <a class="back-button" href="/teacher.html">Teacher</a>
        <a class="back-button" href="/student.html">Student</a>
        <a class="back-button" href="/parent.html">Parent</a>
        <a class="back-button" href="/parent-contact.html">Contact</a>
      </nav>
    </header>

    <!-- HERO -->
    <main class="main">
      <section class="card" style="display:flex;gap:18px;align-items:center;justify-content:space-between">
        <div style="max-width:720px">
          <h2 style="margin:4px 0 6px 0;font-size:28px">Welcome to EduConnect</h2>
          <p style="margin:0 0 12px 0;color:var(--muted)">
            Centralised school portal for administration, parents and pupils — results, timetables, lesson plans and more.
          </p>
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <a class="back-button" href="/portal.html">Open Portal</a>
            <a class="back-button" href="#features">Learn more</a>
            <a class="back-button" href="/parent-contact.html">Request Demo</a>
          </div>
        </div>
        <div style="min-width:240px;text-align:right">
          <div style="font-weight:700">Live date & time</div>
          <div id="homepage-datetime" class="h2" style="margin-top:8px"></div>
        </div>
      </section>

      <!-- ROLE CARDS -->
      <section style="margin-top:16px" class="card">
        <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:stretch;justify-content:space-between">
          <div class="subcard" data-href="/teacher.html" data-info="Teacher area: lesson plans, staff directory, PD, policies">
            <h3>Teacher / Admin</h3>
            <p>Lesson plans, staff directory, professional development & policies.</p>
            <a class="back-button" href="/teacher.html">Open</a>
          </div>

          <div class="subcard" data-href="/parent.html" data-info="Parent area: view child's progress, announcements, PTA">
            <h3>Parent / Guardian</h3>
            <p>Access child's term progress, announcements, PTA and fees info.</p>
            <a class="back-button" href="/parent.html">Open</a>
          </div>

          <div class="subcard" data-href="/student.html" data-info="Student area: timetable, homework, clubs, learning resources">
            <h3>Student / Pupil</h3>
            <p>View timetable, homework, clubs and online learning resources.</p>
            <a class="back-button" href="/student.html">Open</a>
          </div>
        </div>
      </section>

      <!-- FEATURES (keeps enhancements insertion safe) -->
      <div id="features"></div>

      <!-- QUICK INSIGHT & CTA -->
      <div class="features" style="margin-top:18px">
        <div class="feature-left card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div><strong>Quick Insights</strong><div class="h2">Snapshot of platform usage</div></div>
            <div style="font-size:13px;color:var(--muted)">Updated live</div>
          </div>

          <div class="stats" style="margin-top:12px">
            <div class="stat"><div class="num enh-counter" data-to="128">0</div><div class="h2">Teachers</div></div>
            <div class="stat"><div class="num enh-counter" data-to="1420">0</div><div class="h2">Students</div></div>
            <div class="stat"><div class="num enh-counter" data-to="320">0</div><div class="h2">Parents</div></div>
          </div>

          <div style="margin-top:12px" class="card ticker">
            <div class="inner enh-ticker-inner"></div>
          </div>
        </div>

        <aside class="card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div><strong>Performance Trend</strong><div class="h2">Student average (sample)</div></div>
            <div style="font-size:12px;color:var(--muted)">7 days</div>
          </div>
          <div style="margin-top:10px">
            <canvas id="homepage-mini-chart" style="width:100%;height:86px"></canvas>
          </div>
          <div style="margin-top:12px;display:flex;gap:8px;flex-direction:column">
            <a class="back-button" href="/student-dashboard.html">Open student dashboard</a>
            <a class="back-button" href="/teacher-dashboard.html">Open teacher dashboard</a>
          </div>
        </aside>
      </div>

      <!-- small info -->
      <section style="margin-top:18px" class="card">
        <div style="display:flex;gap:12px;align-items:center;justify-content:space-between">
          <div style="max-width:720px">
            <h3 style="margin:0 0 8px 0">What EduConnect includes</h3>
            <div style="display:flex;gap:12px;flex-wrap:wrap">
              <div class="subcard" style="flex:1 1 220px"><b>Teachers</b><p class="h2">Lesson plans, staff directory, PD, policies</p></div>
              <div class="subcard" style="flex:1 1 220px"><b>Pupils</b><p class="h2">Homework, calendar, clubs, resources</p></div>
              <div class="subcard" style="flex:1 1 220px"><b>Parents</b><p class="h2">News, PTA, progress & fees</p></div>
            </div>
          </div>
          <div style="text-align:right;color:var(--muted)">
            <div>Contact</div>
            <div style="margin-top:6px">info@educonnect.com</div>
            <div style="margin-top:6px">© EduConnect 2025</div>
          </div>
        </div>
      </section>
    </main>

    <aside class="side" style="margin-top:12px">
      <div class="card">
        <strong>Demo login</strong>
        <div class="h2" style="margin-top:6px">Teacher: teacher@example.com / teach123</div>
        <div class="h2" style="margin-top:6px">Parent: parent@example.com / parent123</div>
        <div class="h2" style="margin-top:6px">Student: student@example.com / student123</div>
      </div>
    </aside>

    <div class="footer">Designed for schools — EduConnect © 2025</div>
  </div>

  <!-- scripts: enhancements + live time + mini chart logic -->
  <script src="/home-enhancements.js" defer></script>
  <script src="/live-datetime.js" defer></script>
  <script>
    // show live datetime in hero (live-datetime.js likely provides update function, but fallback)
    function setHeroTime(){
      const el = document.getElementById('homepage-datetime');
      if(!el) return;
      const now = new Date();
      el.textContent = now.toLocaleString();
    }
    setInterval(setHeroTime,1000); setHeroTime();

    // wire subcard clicks to their hrefs and show info on long click
    document.querySelectorAll('.subcard').forEach(card=>{
      card.style.cursor='pointer';
      card.addEventListener('click', ()=>{ const h=card.dataset.href; if(h) location.href=h; });
      card.addEventListener('contextmenu', e=>{ e.preventDefault(); alert(card.dataset.info || 'Details'); });
    });

    // small sparkline for homepage canvas (if enhancements not replacing it)
    (function(){
      const canvas = document.getElementById('homepage-mini-chart');
      if(!canvas || !canvas.getContext) return;
      const ctx = canvas.getContext('2d');
      const data = [68,72,78,75,88,82,91,96,93,89];
      const w = canvas.width = canvas.clientWidth || 300;
      const h = canvas.height = 86;
      const pad=10;
      const min=Math.min(...data), max=Math.max(...data);
      ctx.clearRect(0,0,w,h);
      ctx.beginPath();
      data.forEach((v,i)=>{
        const x = pad + (i/(data.length-1))*(w-pad*2);
        const y = h - pad - ((v-min)/(max-min))*(h-pad*2);
        if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
      });
      ctx.strokeStyle='rgba(11,118,209,0.95)'; ctx.lineWidth=2; ctx.stroke();
    })();
  </script>
</body>
</html>
