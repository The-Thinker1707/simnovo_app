<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EduConnect — Professional school portal</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="container">
    <header class="header" role="banner">
      <div class="brand">
        <div class="logo" aria-hidden="true">EDUCONNECT</div>
        <div>
          <div style="font-weight:900;font-size:15px">Professional school portal</div>
          <div style="font-size:13px;color:var(--muted)">Unified portal for Teachers, Parents and Students</div>
        </div>
      </div>

      <nav class="top-nav" role="navigation" aria-label="Main">
        <a href="/portal.html">Portal</a>
        <a href="/portal.html" class="cta">Sign In</a>
      </nav>
    </header>

    <!-- HERO -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-card" style="background-image: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(250,252,255,0.98));">
        <h1 id="hero-title" class="h-title">A beautiful, robust campus platform — designed for growth</h1>
        <p class="h-lead">EduConnect consolidates student data, learning materials, assessments and campus services into one clean interface. Built for schools, academies and universities.</p>

        <div class="stats" aria-hidden="false">
          <div class="stat"><div class="label">Active users</div><div class="value" id="s-users">—</div></div>
          <div class="stat"><div class="label">Announcements</div><div class="value" id="s-ann">—</div></div>
          <div class="stat"><div class="label">Resources</div><div class="value" id="s-lessons">—</div></div>
        </div>

        <div style="display:flex;gap:12px;align-items:center;margin-top:10px;flex-wrap:wrap">
          <a href="/portal.html" class="cta" style="padding:10px 16px;border-radius:10px;">Open Portal</a>
          <a href="#features" style="padding:10px 14px;border-radius:10px;background:transparent;border:1px solid rgba(9,30,40,0.04);text-decoration:none;color:var(--muted)">Explore features</a>
          <span class="badge primary">Campus-grade</span>
          <span class="badge gold">48 Departments</span>
        </div>
      </div>

      <aside class="side-column" aria-label="Quick">
        <div class="dept-card">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div style="font-weight:800;color:var(--muted)">Departments</div>
            <div class="dept-count" id="dept-count">48</div>
          </div>
          <div style="margin-top:10px;color:var(--muted);font-size:13px">Organize faculties, labs and centers. Permissions & roles included.</div>
        </div>

        <div class="card">
          <div style="font-weight:800;color:var(--muted)">Institution Overview</div>
          <div style="margin-top:8px;color:var(--muted);font-size:13px">Admin controls, audit logs, and secure backups built-in.</div>
        </div>
      </aside>
    </section>

    <!-- FEATURES -->
    <section id="features" style="margin-top:28px" aria-labelledby="features-title">
      <h2 id="features-title" style="margin:0 0 14px 0;font-weight:900">Key features — enterprise & campus ready</h2>

      <div class="features" role="list">
        <!-- card template: keep many high-value features (all non-underlined) -->
        <a class="feature-card" href="/teacher.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon" aria-hidden="true">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="7" height="7" rx="1.5" fill="currentColor" opacity="0.12"/><rect x="14" y="3" width="7" height="7" rx="1.5" fill="currentColor" opacity="0.18"/><rect x="3" y="14" width="7" height="7" rx="1.5" fill="currentColor" opacity="0.18"/><rect x="14" y="14" width="7" height="7" rx="1.5" fill="currentColor" opacity="0.12"/></svg>
            </div>
            <div><div class="feature-title">Unified Dashboard</div><div class="feature-desc">Personalized KPIs and role-aware widgets.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/admin.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" fill="currentColor" opacity="0.24"/><path d="M3 20a8 8 0 0 1 18 0" fill="currentColor" opacity="0.18"/></svg></div>
            <div><div class="feature-title">Student Records</div><div class="feature-desc">Profiles, guardians, history & attachments.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/teacher.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/><path d="M4 5v14" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg></div>
            <div><div class="feature-title">Learning Resources</div><div class="feature-desc">Lesson plans, uploads and media library.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/teacher.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M4 20v-8" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/><path d="M10 20v-4" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"/></svg></div>
            <div><div class="feature-title">Assessments & Analytics</div><div class="feature-desc">Grade entry, cohort analytics, trend exports.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/student.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><rect x="3" y="5" width="18" height="16" rx="2" fill="currentColor" opacity="0.06"/></svg></div>
            <div><div class="feature-title">Timetables & Scheduling</div><div class="feature-desc">Share and sync schedules across stakeholders.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/admin.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><rect x="3" y="7" width="18" height="12" rx="2" fill="currentColor" opacity="0.06"/></svg></div>
            <div><div class="feature-title">Billing & Fees</div><div class="feature-desc">Invoices, receipts and payment tracking.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/library.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M6 20V6" stroke="currentColor" stroke-width="1.2"/></svg></div>
            <div><div class="feature-title">Library</div><div class="feature-desc">Digital catalog, lending and lists.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/events.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M12 3l2.6 5.3L20 10l-4 3.9L17 19l-5-2.7L7 19l1-5.1L4 10l5.4-1.7L12 3z" fill="currentColor" opacity="0.12"/></svg></div>
            <div><div class="feature-title">Events & Clubs</div><div class="feature-desc">Calendars, RSVPs and campus activities.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/portal.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M21 15a2 2 0 0 1-2 2H8l-5 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" fill="currentColor" opacity="0.06"/></svg></div>
            <div><div class="feature-title">Messaging</div><div class="feature-desc">Alerts, announcements and direct messages.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/staff.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M4 6h16" stroke="currentColor" stroke-width="1.2"/><path d="M4 12h16" stroke="currentColor" stroke-width="1.2"/></svg></div>
            <div><div class="feature-title">Staff Directory</div><div class="feature-desc">Search staff by department, role and expertise.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/admin.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M12 3l7 4v5c0 5-3.6 9.7-7 11-3.4-1.3-7-6-7-11V7l7-4z" fill="currentColor" opacity="0.08"/></svg></div>
            <div><div class="feature-title">Security & Compliance</div><div class="feature-desc">RBAC, audit logs and policy storage.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/admin.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M10 10h4v4h-4z" fill="currentColor" opacity="0.06"/></svg></div>
            <div><div class="feature-title">Integrations</div><div class="feature-desc">SIS, SSO, payments & external LMS connectors.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/portal.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><rect x="7" y="2" width="10" height="20" rx="2" fill="currentColor" opacity="0.06"/></svg></div>
            <div><div class="feature-title">Mobile-first</div><div class="feature-desc">Responsive UI and native app-ready APIs.</div></div>
          </div>
        </a>

        <a class="feature-card" href="/portal.html" role="listitem">
          <div class="feature-top">
            <div class="feature-icon"><svg width="28" height="28" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" fill="currentColor" opacity="0.04"/></svg></div>
            <div><div class="feature-title">Support & Training</div><div class="feature-desc">Docs, training sessions and SLA options.</div></div>
          </div>
        </a>

      </div>
    </section>

    <!-- ANNOUNCEMENTS -->
    <section style="margin-top:30px">
      <h3 style="margin:0 0 8px 0;font-weight:800">Latest announcements</h3>
      <div class="card">
        <ul id="announcements" style="margin:0;padding-left:18px;color:var(--muted)"></ul>
      </div>
    </section>

    <footer style="margin-top:28px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between">
      <div>© EduConnect • 2025</div>
      <div style="color:var(--muted)">Built for institutional scale</div>
    </footer>
  </div>

  <script>
    async function loadHome(){
      try{
        const r = await fetch('/api/analytics');
        if(r.ok){
          const d = await r.json();
          document.getElementById('s-users').textContent = d.totals?.users ?? '—';
          document.getElementById('s-ann').textContent = d.totals?.announcements ?? '—';
          document.getElementById('s-lessons').textContent = d.totals?.lessons ?? '—';
        }
      }catch(e){ console.warn('analytics error', e); }

      try{
        const a = await fetch('/api/announcements');
        if(a.ok){
          const anns = await a.json();
          const ul = document.getElementById('announcements'); ul.innerHTML='';
          if(!anns || anns.length===0) ul.innerHTML = '<li style="color:var(--muted)">No announcements</li>';
          else anns.forEach(x=>{ const li=document.createElement('li'); li.style.marginBottom='10px'; const t=document.createElement('div'); t.style.fontWeight='800'; t.textContent=x.title||''; const b=document.createElement('div'); b.style.color='var(--muted)'; b.textContent=x.body||''; li.appendChild(t); li.appendChild(b); ul.appendChild(li); });
        }
      }catch(e){ console.warn('ann error', e); }
    }
    document.addEventListener('DOMContentLoaded', loadHome);
  </script>
</body>
</html>
